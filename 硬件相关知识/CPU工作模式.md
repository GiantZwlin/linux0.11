## CPU工作模式

### 实地址模式

为了和`INTEL 8086`CPU兼容而设置的模式，是一种基本的工作模式，微处理器在系统复位之后，因`CR0`寄存器中`PE`位置为0，自动进入实地址模式。

具体利用分段机制访问内存,访问时给出一个段基地址和一个段内偏移，访问的地址为实实在在的物理地址.只有A0-A19这20根地址线起作用，提供1MB的内存空间，每一个段最大只有64K。

- 实地址的段的特点

  - 每个段基地址都是16的倍数
  - 段的大小从1B到64KB都可以

  - 访问的每个地址都是实际的物理地址

- 遗留的问题

  - 系统程序与用户程序访问的地址共存于同一地址空间,并且一视同仁

  - 没有权限保护(用户可以随意访问1M的全部内存地址空间)

  - 不支持多任务

### 保护模式

当`CR0`寄存器中`PE`位置为1时，CPU就工作在保护模式，保护模式既提供了存储器的管理机制，又提供了保护机构并支持多任务操作。在保护模式下，一个存储单元的地址也由段基地址和段内偏移地址两部分组成，其中段内偏移地址由32位地址线决定，因而一个段的最大寻址可达4GB，段基址也是32位，不能由段寄存器内容左移4位得到，而必须经过转换。为了实现转换，在内存中安排了一张表，每个内存段对应了表中的一项，此项中包含32位的段基地址，由段基地址和段内偏移地址形成的地址称为线性地址（32位），若没有使用分页部件，则线性地址就是物理地址，若使用了分页部件，线性地址需要转换成物理地址。

### 虚拟8086模式

内存寻址方式：段式寻址，与实模式一样，支持多任务和内存分页，v86模式主要是为了在保护模式下兼容以前的实模式应用，即可支持多任务， 但每个任务都是实模式的工作方式。 

